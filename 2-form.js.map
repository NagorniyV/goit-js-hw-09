{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Константа на ключь\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst feedbackForm = document.querySelector(`.feedback-form`);\n\n// Стилизируем форму\n\nfeedbackForm.style.display = 'flex';\nfeedbackForm.style.flexDirection = 'column';\nfeedbackForm.style.gap = `16px`;\n  feedbackForm.style.position = 'absolute';\n  feedbackForm.style.top = '50%';\n  feedbackForm.style.left = '50%';\nfeedbackForm.style.transform = 'translate(-50%, -50%)';\nfeedbackForm.style.padding = `10px`;\n\nconst refs = {\n    form: document.querySelector(`.feedback-form`),\n};\n\n// Сохраняем значение введённых данных в импуты\n\nconst formData = { email: \"\", message: \"\" };\n\nrefs.form.addEventListener('input', (e) => {\n    formData.email = e.currentTarget.elements.email.value;\n    formData.message = e.currentTarget.elements.message.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n});\n\n// Слушатель на Сабмит + вывод в консоль + очищение формы\n\nfeedbackForm.addEventListener(`submit`, (e) => {\n    e.preventDefault();\n\n    if (!formData.email || !formData.message) {\n      alert('Fill please all fields');\n      return;\n    }\n\n    console.log(formData);    \n\n    localStorage.removeItem(STORAGE_KEY);\n    \n    formData.email = \"\";\n    formData.message = \"\";\n\n    feedbackForm.reset();\n})\n\n// Стилизируем кнопку\n\nconst subBtn = document.querySelector(`.submit`);\n\nsubBtn.style.width = `95px`;\nsubBtn.style.heigth = `24px`;\nsubBtn.style.marginLeft = `0px`;\nsubBtn.style.backgroundColor = `blue`;\nsubBtn.style.color = `white`;\nsubBtn.style.border = `none`;\nsubBtn.style.borderRadius = `3px`;\nsubBtn.style.fontSize = `16px`;\nsubBtn.style.padding = `8px 16px`;\n\n// Стилизируем инпуты\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const labels = document.querySelectorAll('.feedback-form label');\n  const inputs = document.querySelectorAll('.feedback-form input, .feedback-form textarea');\n\n  labels.forEach(label => {\n    label.style.display = 'block';\n  });\n\n  inputs.forEach(input => {\n    input.style.display = 'block';\n    input.style.width = `360px`;\n  });\n});\n\n\n// ! Функции для проверки перевода на JSON формат\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key.jsonData);\n}\n\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return data;\n    } catch {\n        return body;\n    }\n}"],"names":["STORAGE_KEY","feedbackForm","refs","formData","e","subBtn","labels","inputs","label","input"],"mappings":"oDACA,MAAMA,EAAc,sBAEdC,EAAe,SAAS,cAAc,gBAAgB,EAI5DA,EAAa,MAAM,QAAU,OAC7BA,EAAa,MAAM,cAAgB,SACnCA,EAAa,MAAM,IAAM,OACvBA,EAAa,MAAM,SAAW,WAC9BA,EAAa,MAAM,IAAM,MACzBA,EAAa,MAAM,KAAO,MAC5BA,EAAa,MAAM,UAAY,wBAC/BA,EAAa,MAAM,QAAU,OAE7B,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAIMC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEzCD,EAAK,KAAK,iBAAiB,QAAUE,GAAM,CACvCD,EAAS,MAAQC,EAAE,cAAc,SAAS,MAAM,MAChDD,EAAS,QAAUC,EAAE,cAAc,SAAS,QAAQ,MACpD,aAAa,QAAQJ,EAAa,KAAK,UAAUG,CAAQ,CAAC,CAC9D,CAAC,EAIDF,EAAa,iBAAiB,SAAWG,GAAM,CAG3C,GAFAA,EAAE,eAAc,EAEZ,CAACD,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWH,CAAW,EAEnCG,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBF,EAAa,MAAK,CACtB,CAAC,EAID,MAAMI,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,MAAQ,OACrBA,EAAO,MAAM,OAAS,OACtBA,EAAO,MAAM,WAAa,MAC1BA,EAAO,MAAM,gBAAkB,OAC/BA,EAAO,MAAM,MAAQ,QACrBA,EAAO,MAAM,OAAS,OACtBA,EAAO,MAAM,aAAe,MAC5BA,EAAO,MAAM,SAAW,OACxBA,EAAO,MAAM,QAAU,WAIvB,SAAS,iBAAiB,mBAAoB,UAAW,CACvD,MAAMC,EAAS,SAAS,iBAAiB,sBAAsB,EACzDC,EAAS,SAAS,iBAAiB,+CAA+C,EAExFD,EAAO,QAAQE,GAAS,CACtBA,EAAM,MAAM,QAAU,OAC1B,CAAG,EAEDD,EAAO,QAAQE,GAAS,CACtBA,EAAM,MAAM,QAAU,QACtBA,EAAM,MAAM,MAAQ,OACxB,CAAG,CACH,CAAC"}
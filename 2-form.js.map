{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Константа на ключь\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst feedbackForm = document.querySelector(`.feedback-form`);\n\nconst refs = {\n    form: document.querySelector(`.feedback-form`),\n};\n\n// Сохраняем значение введённых данных в импуты\n\nconst formData = { email: \"\", message: \"\" };\n\nrefs.form.addEventListener('input', (e) => {\n    formData.email = e.currentTarget.elements.email.value;\n    formData.message = e.currentTarget.elements.message.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n});\n\n// Слушатель на Сабмит + вывод в консоль + очищение формы\n\nfeedbackForm.addEventListener(`submit`, (e) => {\n    e.preventDefault();\n\n    if (!formData.email || !formData.message) {\n      alert('Fill please all fields');\n      return;\n    }\n\n    console.log(formData);    \n\n    localStorage.removeItem(STORAGE_KEY);\n    \n    formData.email = \"\";\n    formData.message = \"\";\n\n    feedbackForm.reset();\n})\n\n// вывод в инпуты данных локального хранилища при перезагрузке страницы\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (savedData) {\n        const savedFormData = JSON.parse(savedData);\n        formData.email = savedFormData.email;\n        formData.message = savedFormData.message;\n        refs.form.elements.email.value = formData.email;\n        refs.form.elements.message.value = formData.message;\n    }\n});"],"names":["STORAGE_KEY","feedbackForm","refs","formData","e","savedData","savedFormData"],"mappings":"oDACA,MAAMA,EAAc,sBAEdC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EAIMC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEzCD,EAAK,KAAK,iBAAiB,QAAUE,GAAM,CACvCD,EAAS,MAAQC,EAAE,cAAc,SAAS,MAAM,MAChDD,EAAS,QAAUC,EAAE,cAAc,SAAS,QAAQ,MACpD,aAAa,QAAQJ,EAAa,KAAK,UAAUG,CAAQ,CAAC,CAC9D,CAAC,EAIDF,EAAa,iBAAiB,SAAWG,GAAM,CAG3C,GAFAA,EAAE,eAAc,EAEZ,CAACD,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWH,CAAW,EAEnCG,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBF,EAAa,MAAK,CACtB,CAAC,EAID,OAAO,iBAAiB,mBAAoB,IAAM,CAC9C,MAAMI,EAAY,aAAa,QAAQL,CAAW,EAClD,GAAIK,EAAW,CACX,MAAMC,EAAgB,KAAK,MAAMD,CAAS,EAC1CF,EAAS,MAAQG,EAAc,MAC/BH,EAAS,QAAUG,EAAc,QACjCJ,EAAK,KAAK,SAAS,MAAM,MAAQC,EAAS,MAC1CD,EAAK,KAAK,SAAS,QAAQ,MAAQC,EAAS,OAC/C,CACL,CAAC"}